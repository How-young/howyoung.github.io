<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>为使用matery主题的hexo增加Valine评论系统</title>
      <link href="/2021/06/09/wei-shi-yong-matery-zhu-ti-de-hexo-zeng-jia-valine-ping-lun-xi-tong/"/>
      <url>/2021/06/09/wei-shi-yong-matery-zhu-ti-de-hexo-zeng-jia-valine-ping-lun-xi-tong/</url>
      
        <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>上篇博客讲述了如何对hexo+GitHub的博客系统进行一些配置，由于配置评论系统较为复杂，故单独写本篇博客来记录如何为使用matery主题的hexo博客系统增加评论系统</p><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>由于本站博客系统使用的是<a href="https://console.leancloud.cn/">LeanCloud</a>提供的，因此先打开官网进行<a href="https://leancloud.cn/dashboard/login.html#/signup">注册</a>。</p><p>注册完成后直接选择创建应用，应用名称随便填，方案选择开发版，点击创建即可。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609162216842.png" alt="创建应用"></p><p>创建完成后，点击设置</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609162337837.png" alt="进入设置"></p><p>我们需要用到AppID和AppKey。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609162431565.png" alt="获取AppID和AppKey"></p><h2 id="配置评论系统"><a href="#配置评论系统" class="headerlink" title="配置评论系统"></a>配置评论系统</h2><p>在matery主题的配置文件<code>_config.yml</code>中，创建Valine属性：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Valine 评论模块的配置，默认为不激活，如要使用，就请激活该配置项，并设置 appId 和 appKey.</span><span class="token key atrule">valine</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true </span>  <span class="token key atrule">appId</span><span class="token punctuation">:</span> 你的AppID  <span class="token key atrule">appKey</span><span class="token punctuation">:</span> 你的AppKey  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10                </span><span class="token comment" spellcheck="true"># 每页显示条数</span>  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> monsterid           <span class="token comment" spellcheck="true"># 默认头像</span>  <span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN   <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> 昵称填写qq可以显示qq头像和昵称哦~   <span class="token comment" spellcheck="true"># 提示信息</span>  <span class="token key atrule">guest_info</span><span class="token punctuation">:</span> nick<span class="token punctuation">,</span>mail<span class="token punctuation">,</span>link   <span class="token key atrule">recordIP</span><span class="token punctuation">:</span> <span class="token boolean important">true </span>  <span class="token key atrule">serverURLs</span><span class="token punctuation">:</span> <span class="token string">''</span>   <span class="token key atrule">background</span><span class="token punctuation">:</span> /medias/comment_bg.png               <span class="token comment" spellcheck="true"># 背景图片</span>  <span class="token key atrule">count</span><span class="token punctuation">:</span> <span class="token boolean important">true </span></code></pre><h2 id="管理评论"><a href="#管理评论" class="headerlink" title="管理评论"></a>管理评论</h2><p>进入<a href="https://console.leancloud.cn/apps">LeanCloud</a>，点击<code>数据存储</code>，选择<code>Comment</code>，然后你就可以操作数据了</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/%E5%88%A0%E9%99%A4%E8%AF%84%E8%AE%BA.gif" alt="删除评论"></p><h2 id="增强Valine系统"><a href="#增强Valine系统" class="headerlink" title="增强Valine系统"></a>增强Valine系统</h2><h3 id="更换Valine的版本"><a href="#更换Valine的版本" class="headerlink" title="更换Valine的版本"></a>更换Valine的版本</h3><p>在matery配置页面，找到libs.js.valine，将其设置为<code>    valine: https://unpkg.com/valine/dist/Valine.min.js</code></p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609164616769.png" alt="更改valine的版本"></p><h3 id="更换表情"><a href="#更换表情" class="headerlink" title="更换表情"></a>更换表情</h3><p>打开<code>themes\matery\layout\_partial</code>中找到<code>valine.ejs</code>，找到其中的<code>new Valine</code>，大概在249行，修改为以下内容：</p><pre class=" language-ejs"><code class="language-ejs">new Valine({        el: '#vcomments',        appId: '<%- theme.valine.appId %>',        appKey: '<%- theme.valine.appKey %>',        notify: '<%- theme.valine.notify %>' === 'true',        verify: '<%- theme.valine.verify %>' === 'true',        visitor: '<%- theme.valine.visitor %>' === 'true',        avatar: '<%- theme.valine.avatar %>',        pageSize: '<%- theme.valine.pageSize %>',        lang: '<% if (config.language == "zh-CN") {  %>zh-cn<% } else { %>en<% } %>',        placeholder: '<%= theme.valine.placeholder %>',        enableQQ: true,        emojiCDN: '//i0.hdslb.com/bfs/emote/',         // 表情title和图片映射        emojiMaps: {        "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",        "tv_亲亲": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",        "tv_偷笑": "bb690d4107620f1c15cff29509db529a73aee261.png",        "tv_再见": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",        "tv_冷漠": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",        "tv_发怒": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",        "tv_发财": "34db290afd2963723c6eb3c4560667db7253a21a.png",        "tv_可爱": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",        "tv_吐血": "09dd16a7aa59b77baa1155d47484409624470c77.png",        "tv_呆": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",        "tv_呕吐": "9f996894a39e282ccf5e66856af49483f81870f3.png",        "tv_困": "241ee304e44c0af029adceb294399391e4737ef2.png",        "tv_坏笑": "1f0b87f731a671079842116e0991c91c2c88645a.png",        "tv_大佬": "093c1e2c490161aca397afc45573c877cdead616.png",        "tv_大哭": "23269aeb35f99daee28dda129676f6e9ea87934f.png",        "tv_委屈": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",        "tv_害羞": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",        "tv_尴尬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",        "tv_微笑": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",        "tv_思考": "90cf159733e558137ed20aa04d09964436f618a1.png",        "tv_惊吓": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",        "tv_打脸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",        "tv_抓狂": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",        "tv_抠鼻": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",        "tv_斜眼笑": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",        "tv_无奈": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",        "tv_晕": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",        "tv_流汗": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",        "tv_流泪": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",        "tv_流鼻血": "c32d39db2737f89b904ca32700d140a9241b0767.png",        "tv_点赞": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",        "tv_生气": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",        "tv_生病": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",        "tv_疑问": "0793d949b18d7be716078349c202c15ff166f314.png",        "tv_白眼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",        "tv_皱眉": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",        "tv_目瞪口呆": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",        "tv_睡着": "8b196675b53af58264f383c50ad0945048290b33.png",        "tv_笑哭": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",        "tv_腼腆": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",        "tv_色": "61822c7e9aae5da76475e7892534545336b23a6f.png",        "tv_调侃": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",        "tv_调皮": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",        "tv_鄙视": "6e72339f346a692a495b123174b49e4e8e781303.png",        "tv_闭嘴": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",        "tv_难过": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",        "tv_馋": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",        "tv_鬼脸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",        "tv_黑人问号": "45821a01f51bc867da9edbaa2e070410819a95b2.png",        "tv_鼓掌": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"        },        requiredFields: ['nick','mail'], //设置必填项    });</code></pre><p>重新部署查看</p><pre class=" language-bash"><code class="language-bash">hexo clean <span class="token operator">&amp;</span> hexo g -d</code></pre><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609165023460.png" alt="评论板块界面"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+GitHub个人主页更换主题</title>
      <link href="/2021/06/09/hexo-github-ge-ren-zhu-ye-geng-huan-zhu-ti/"/>
      <url>/2021/06/09/hexo-github-ge-ren-zhu-ye-geng-huan-zhu-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>上一篇博客我为大家介绍了如何使用hexo+GitHub搭建个人博客，本片我将记录我如何更换hexo的主题matery。</p><h2 id="主题的下载与切换"><a href="#主题的下载与切换" class="headerlink" title="主题的下载与切换"></a>主题的下载与切换</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>hexo主题的官网：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><p>matery主题官网：<a href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery</a></p><p>可以在官网的release里面下载，也可以使用<code>git clone https://github.com/blinkfox/hexo-theme-matery.git </code>下载，将下载的文件夹放到博客文件夹下的themes下。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609110153569.png" alt="themes文件夹"></p><h3 id="切换"><a href="#切换" class="headerlink" title="切换"></a>切换</h3><p>在博客文件夹下，打开<code>_config.yml</code>文件，将<code>theme</code>设置为你的主题名字。</p><h2 id="主题的配置"><a href="#主题的配置" class="headerlink" title="主题的配置"></a>主题的配置</h2><h3 id="增加页面"><a href="#增加页面" class="headerlink" title="增加页面"></a>增加页面</h3><p>增加tags标签页、categories分类页、about关于我页面、contact留言板页。</p><h4 id="新建分类-categories-页"><a href="#新建分类-categories-页" class="headerlink" title="新建分类 categories 页"></a>新建分类 categories 页</h4><p><code>categories</code> 页是用来展示所有分类的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>categories/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"categories"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/categories/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> categories<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-06-8 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token punctuation">---</span></code></pre><h4 id="新建标签-tags-页"><a href="#新建标签-tags-页" class="headerlink" title="新建标签 tags 页"></a>新建标签 tags 页</h4><p><code>tags</code> 页是用来展示所有标签的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>tags/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"tags"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/tags/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> tags<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-06-8 17:23:38</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"tags"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"tags"</span><span class="token punctuation">---</span></code></pre><h4 id="新建关于我-about-页"><a href="#新建关于我-about-页" class="headerlink" title="新建关于我 about 页"></a>新建关于我 about 页</h4><p><code>about</code> 页是用来展示<strong>关于我和我的博客</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>about/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"about"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/about/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> about<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-06-8 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"about"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"about"</span><span class="token punctuation">---</span></code></pre><h4 id="新建留言板-contact-页"><a href="#新建留言板-contact-页" class="headerlink" title="新建留言板 contact 页"></a>新建留言板 contact 页</h4><p><code>contact</code> 页是用来展示<strong>留言板</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>contact/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"contact"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/contact/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> contact<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-06-8 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"contact"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"contact"</span><span class="token punctuation">---</span></code></pre><blockquote><p><strong>注</strong>：本留言板功能依赖于第三方评论系统，请<strong>激活</strong>你的评论系统才有效果。并且在主题的 <code>_config.yml</code> 文件中，第 <code>19</code> 至 <code>21</code> 行的“<strong>菜单</strong>”配置，取消关于留言板的注释即可。</p></blockquote><h4 id="新建-404-页"><a href="#新建-404-页" class="headerlink" title="新建 404 页"></a>新建 404 页</h4><p>如果在你的博客 <code>source</code> 目录下还没有 <code>404.md</code> 文件，那么你就需要新建一个</p><pre class=" language-bash"><code class="language-bash">hexo new page 404</code></pre><p>编辑你刚刚新建的页面文件 <code>/source/404/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token number">404</span><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-06-8 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"404"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"404"</span><span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"Oops～，我崩溃了！找不到你想要的页面 :("</span><span class="token punctuation">---</span></code></pre><h3 id="增加emoji支持"><a href="#增加emoji支持" class="headerlink" title="增加emoji支持"></a>增加emoji支持</h3><p>:smile：使你的markdown博客里的emoji表情跳动起来</p><p>安装插件：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-filter-github-emojis --save</code></pre><p>在博客文件夹下增加下面配置：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">styles</span><span class="token punctuation">:</span>  <span class="token key atrule">customEmojis</span><span class="token punctuation">:</span></code></pre><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609113107377.png" alt="emoji表情示例"></p><h3 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h3><p>由于 Hexo 自带的代码高亮主题不好看，所以我们采用一个插件来代替它。</p><p>使用<code>npm i -S hexo-prism-plugin</code>来安装插件</p><p>打开项目文件夹下的<code>_config.yml</code>，将 highlight.enable 的值改为 false ，新增下面的代码。</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>  <span class="token key atrule">custom_css</span><span class="token punctuation">:</span></code></pre><h3 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h3><p>我们使用 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a> 的 Hexo 插件来做内容搜索，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre><h3 id="中文链接转拼音"><a href="#中文链接转拼音" class="headerlink" title="中文链接转拼音"></a>中文链接转拼音</h3><p>如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 <code>SEO</code>，且 <code>gitment</code> 评论对中文链接也不支持。我们可以用 <a href="https://github.com/viko16/hexo-permalink-pinyin">hexo-permalink-pinyin</a> Hexo 插件使在生成文章时生成中文拼音的永久链接。</p><p>安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i hexo-permalink-pinyin --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">permalink_pinyin</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">separator</span><span class="token punctuation">:</span> <span class="token string">'-'</span> <span class="token comment" spellcheck="true"># default: '-'</span></code></pre><h3 id="文章字数统计"><a href="#文章字数统计" class="headerlink" title="文章字数统计"></a>文章字数统计</h3><p>为了在文章中显示文章字数、阅读时长信息，可以安装 <a href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a>插件。</p><p>安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i --save hexo-wordcount</code></pre><p>然后只需在本主题下的 <code>_config.yml</code> 文件中，将各个文章字数相关的配置激活即可：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 文章信息--若要开启文章字数统计，需要安装 hexo-wordcount 插件，安装命令: `npm i --save hexo-wordcount`</span><span class="token key atrule">postInfo</span><span class="token punctuation">:</span>  <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 发布日期</span>  <span class="token key atrule">update</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 更新日期</span>  <span class="token key atrule">wordCount</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 文章字数统计</span>  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 站点总文章字数</span>  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 文章阅读时长</span>  <span class="token key atrule">readCount</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 文章阅读次数</span></code></pre><h3 id="配置音乐播放器"><a href="#配置音乐播放器" class="headerlink" title="配置音乐播放器"></a>配置音乐播放器</h3><p>要支持音乐播放，在主题的 <code>_config.yml</code> 配置文件中激活music配置即可：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 音乐</span><span class="token key atrule">music</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">title</span><span class="token punctuation">:</span>             <span class="token comment" spellcheck="true"># 非吸底模式有效</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">show</span><span class="token punctuation">:</span> 听听音乐放松一下吧  <span class="token key atrule">server</span><span class="token punctuation">:</span> netease   <span class="token comment" spellcheck="true"># require music platform: netease, tencent, kugou, xiami, baidu</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> playlist    <span class="token comment" spellcheck="true"># require song, playlist, album, search, artist</span>  <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">2799574927     </span><span class="token comment" spellcheck="true"># require song id / playlist id / album id / search keyword</span>  <span class="token key atrule">fixed</span><span class="token punctuation">:</span> <span class="token boolean important">false      </span><span class="token comment" spellcheck="true"># 开启吸底模式</span>  <span class="token key atrule">autoplay</span><span class="token punctuation">:</span> <span class="token boolean important">true   </span><span class="token comment" spellcheck="true"># 是否自动播放</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> '<span class="token comment" spellcheck="true">#42b983'</span>  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token string">'all'</span>       <span class="token comment" spellcheck="true"># 音频循环播放, 可选值: 'all', 'one', 'none'</span>  <span class="token key atrule">order</span><span class="token punctuation">:</span> <span class="token string">'random'</span>   <span class="token comment" spellcheck="true"># 音频循环顺序, 可选值: 'list', 'random'</span>  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token string">'auto'</span>   <span class="token comment" spellcheck="true"># 预加载，可选值: 'none', 'metadata', 'auto'</span>  <span class="token key atrule">volume</span><span class="token punctuation">:</span> <span class="token number">0.7       </span><span class="token comment" spellcheck="true"># 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span>  <span class="token key atrule">listFolded</span><span class="token punctuation">:</span> <span class="token boolean important">false  </span><span class="token comment" spellcheck="true"># 列表默认折叠</span>  <span class="token key atrule">hideLrc</span><span class="token punctuation">:</span> <span class="token boolean important">true     </span><span class="token comment" spellcheck="true"># 隐藏歌词</span></code></pre><blockquote><p>属性介绍：</p><ol><li><p><code>server</code>可选<code>netease</code>（网易云音乐），<code>tencent</code>（QQ音乐），<code>kugou</code>（酷狗音乐），<code>xiami</code>（虾米音乐），<code>baidu</code>（百度音乐）。</p></li><li><p><code>type</code>可选<code>song</code>（歌曲），<code>playlist</code>（歌单），<code>album</code>（专辑），<code>search</code>（搜索关键字），<code>artist</code>（歌手）</p></li><li><p><code>id</code>获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，<code>playlist</code>的<code>id</code>即为这串数字。</p></li></ol></blockquote><h3 id="修改公告-dream一栏-里的每日一句"><a href="#修改公告-dream一栏-里的每日一句" class="headerlink" title="修改公告(dream一栏)里的每日一句"></a>修改公告(dream一栏)里的每日一句</h3><p>找到<code>/themes/matery/layout/index.ejs</code>，第17行改为：</p><pre class=" language-ejs"><code class="language-ejs"><% if (theme.dream.enable) { %>  <!-- <%- partial('_widget/dream') %> -->  <i class="fa fa-volume-up fa-lg fa-fw text-color"></i> <%- '<span id="hitokoto">一言API请求超时。请稍后重试。</span> （来源：一言API）' %><% } %></code></pre><p>同时在<code>/themes/matery/layout/_partial/head.ejs</code>增加代码：</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://v1.hitokoto.cn/?c=d&amp;encode=js&amp;select=%23hitokoto"</span> defer<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+GitHub搭建个人博客</title>
      <link href="/2021/06/08/hexo-github-da-jian-ge-ren-bo-ke/"/>
      <url>/2021/06/08/hexo-github-da-jian-ge-ren-bo-ke/</url>
      
        <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>本篇博客技术了如何使用hexo+GitHub搭建个人博客。gitee至今年五月开始休整个人主页，暂时无法搭建。</p><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><h3 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h3><p>git下载地址：<a href="https://git-scm.com/downloads">Git - Downloads (git-scm.com)</a></p><p>验证git是否安装完成：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> --version</code></pre><p>出现下面的信息即安装完成。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210608225744230.png" alt="查看git是否安装成功"></p><h3 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h3><p>node.js下载地址：<a href="https://nodejs.org/zh-cn/download/">下载 | Node.js (nodejs.org)</a></p><p>验证node是否安装成功</p><pre class=" language-bash"><code class="language-bash">node -v</code></pre><p>出现下面的信息即代表安装完成：</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210608230136589.png" alt="产看node是否安装成功"></p><h3 id="GitHub仓库"><a href="#GitHub仓库" class="headerlink" title="GitHub仓库"></a>GitHub仓库</h3><p>创建一个GitHub的账号，当然gitee也可以。</p><p>GitHub地址：<a href="https://github.com/">https://github.com/</a></p><p>Gitee地址：<a href="https://gitee.com/">https://gitee.com/</a></p><p>在注册好以后创建一个新仓库</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609085515819.png" alt="新建仓库"></p><p>仓库名构成为：用户名.github.io</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609085818668.png" alt="创建仓库"></p><h2 id="安装hexo并且本地运行"><a href="#安装hexo并且本地运行" class="headerlink" title="安装hexo并且本地运行"></a>安装hexo并且本地运行</h2><p>创建一个文件夹，用于存放你的博客</p><pre class=" language-bash"><code class="language-bash">//切换到所在磁盘位置e://切换到文件夹位置<span class="token function">cd</span> myBlog</code></pre><p>安装hexo-cli脚手架</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli</code></pre><p>用<code>hexo -v</code>验证hexo-cli脚手架是否安装完成</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609090103875.png" alt="查看hexo版本"></p><p>使用<code>hexo init</code>初始化网站，如果报错或者安装不成功，就去<a href="https://github.com/hexojs/hexo-starter">hexojs/hexo-starter(github.com)</a>将代码下载下来，放到你的目录下。</p><p>然后进入网站所在文件夹，执行<code>npm install</code>命令，安装必备的组件。完成安装后，页面结构如图所示</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">.</span>├── _config.yml <span class="token comment" spellcheck="true"># 网站的配置信息，您可以在此配置大部分的参数。 </span>├── package.json├── node_modules <span class="token comment" spellcheck="true"># 组件所在文件夹</span>├── scaffolds <span class="token comment" spellcheck="true"># 模版文件夹</span>├── <span class="token function">source</span>  <span class="token comment" spellcheck="true"># 资源文件夹，除 _posts 文件，其他以下划线_开头的文件或者文件夹不会被编译打包到public文件夹</span><span class="token operator">|</span>   ├── _drafts <span class="token comment" spellcheck="true"># 草稿文件</span><span class="token operator">|</span>   └── _posts <span class="token comment" spellcheck="true"># 文章Markdowm文件 </span>└── themes  <span class="token comment" spellcheck="true"># 主题文件夹</span></code></pre><p>使用<code>hexo g</code>即可生成静态网页，可在public里面找到。然后运行<code>hexo s</code>打开本地服务器，就可以查看，这是我更换主题matery后的界面，具体后面会写。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609091349215.png" alt="静态主页"></p><h2 id="连接GitHub与本地git"><a href="#连接GitHub与本地git" class="headerlink" title="连接GitHub与本地git"></a>连接GitHub与本地git</h2><h3 id="配置ssh-key"><a href="#配置ssh-key" class="headerlink" title="配置ssh key"></a>配置ssh key</h3><p>右击鼠标，选中<code>Git Bash Here</code>，打开git界面，开始配置ssh key。</p><p>输入<code>ssh-keygen -t rsa -C '你的邮箱'</code></p><pre class=" language-bash"><code class="language-bash">$ ssh-keygen -t rsa -C <span class="token string">'howyoung525@foxmail.com'</span>Generating public/private rsa key pair.Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/c/Users/84661/.ssh/id_rsa<span class="token punctuation">)</span>: 可以在此输入你的文件保存地址，默认为~/.ssh/id_rsa,建议换成~/.ssh/id_rsa.githubEnter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>:Enter same passphrase again:Your identification has been saved <span class="token keyword">in</span> /c/Users/84661/.ssh/id_rsaYour public key has been saved <span class="token keyword">in</span> /c/Users/84661/.ssh/id_rsa.pubThe key fingerprint is:SHA256:oFnXNTgDePDBcW6j2xp9mTpbheokQ0JjM+3nLvtxqfA howyoung525@foxmail.comThe key's randomart image is:+---<span class="token punctuation">[</span>RSA 3072<span class="token punctuation">]</span>----+<span class="token operator">|</span>      .++o<span class="token punctuation">..</span>o    <span class="token operator">|</span><span class="token operator">|</span>      .oo<span class="token operator">=</span>+. <span class="token keyword">.</span>   <span class="token operator">|</span><span class="token operator">|</span>      O.+ <span class="token operator">=</span>o     <span class="token operator">|</span><span class="token operator">|</span>     * B o <span class="token keyword">.</span> <span class="token keyword">.</span>   <span class="token operator">|</span><span class="token operator">|</span>    o <span class="token keyword">.</span> S <span class="token keyword">.</span> <span class="token keyword">.</span> <span class="token keyword">.</span>  <span class="token operator">|</span><span class="token operator">|</span>       o * <span class="token keyword">.</span> <span class="token operator">=</span>   <span class="token operator">|</span><span class="token operator">|</span>        * B B    <span class="token operator">|</span><span class="token operator">|</span>        .@.B     <span class="token operator">|</span><span class="token operator">|</span>        o+Eo     <span class="token operator">|</span>+----<span class="token punctuation">[</span>SHA256<span class="token punctuation">]</span>-----+</code></pre><p>输入命令<code>cat ~/.ssh/id_rsa.github.pub</code>，查看公钥文件，然后选中，右击复制。</p><p>打开你的GitHub，点击右上角头像旁边的倒三角，选择<code>settings</code>，在点击<code>SSH adn GPG keys</code>，点击<code>new</code>，在页面里添加title和key，title可以随意写，key把公钥文件内容粘贴进去即可。</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/%E9%85%8D%E7%BD%AE.gif" alt="git与GitHub连接配置"></p><h3 id="配置本地账户"><a href="#配置本地账户" class="headerlink" title="配置本地账户"></a>配置本地账户</h3><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> config --global user.name <span class="token string">'你的用户名'</span><span class="token function">git</span> config --global user.email <span class="token string">'你的邮箱'</span></code></pre><h3 id="测试连接"><a href="#测试连接" class="headerlink" title="测试连接"></a>测试连接</h3><p>使用<code>ssh -T git@github.com</code>来测试是否成功，出现下面信息即成功（第一会让输入yes）</p><p><img src="https://gitee.com/sehowyoung/images/raw/master/image-20210609094359872.png" alt="测试连接"></p><h2 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h2><p>安装插件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git --save</code></pre><p>打开文件夹下面的<code>_config.yml</code>文件，找到最下面的<code>delpoy</code>，修改配置为：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> git  <span class="token key atrule">repository</span><span class="token punctuation">:</span>    <span class="token key atrule">github</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>你的GitHub用户名/用户名.github.io.git</code></pre><p>使用<code>hexo g -d</code>生成静态文件并上传。</p><p>稍等一会，便可以在浏览器访问<code>https://你的用户名.github.io</code>，即可看见你的博客了。</p><p>此外，最好将<code>_config.yml</code>文件最前端的6-12行进行修改：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Site</span><span class="token key atrule">title</span><span class="token punctuation">:</span> howyoung's blog<span class="token key atrule">subtitle</span><span class="token punctuation">:</span> howyoung's blog<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">'howyoung 的博客'</span><span class="token key atrule">keywords</span><span class="token punctuation">:</span> blog 博客 howyoung<span class="token key atrule">author</span><span class="token punctuation">:</span> howyoung<span class="token key atrule">language</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN<span class="token key atrule">timezone</span><span class="token punctuation">:</span> Asia/Shanghai<span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//sehowyoung.github.io/<span class="token key atrule">per_page</span><span class="token punctuation">:</span> 建议改为6的倍数</code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
